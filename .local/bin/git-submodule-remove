#!/bin/sh
# Description: function to remove a git submodule

[ ! -d .git ] && echo "no git root directory" && exit
[ ! -f .gitmodules ] && echo ".gitmodules not exist" && exit
submodulPath="$@"
[ -z "$submodulPath" ] && echo "submodul path not exist" && exit
[ ! -d "$submodulPath" ] && echo "submodul path not exist" && exit
grep "path = $submodulPath" .gitmodules >/dev/null || exit
git submodule deinit -f "$submodulPath"
rm -rf ".git/modules/${submodulPath}"
git rm -f "$submodulPath"
echo -e ">> The submodule was successfully removed.\nNote: the changes still have to be committed."
