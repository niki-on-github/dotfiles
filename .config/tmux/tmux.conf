# tmux.conf
# NOTE: this config require: `alias tmux='tmux -f $XDG_CONFIG_HOME/tmux/tmux.conf'`

# Command 	            Description
# ===============================================================
# <prefix> + b 	        Split pane horizontally
# <prefix> + v	        Split pane vertically
# <prefix> + arrow 	    Move to adjoining pane
# <prefix> + Ctrl-arrow Resize pane by 1 character
# <prefix> + Alt-arrow  Resize pane by 5 characters
# <prefix> + x          Destroy current pane
# <prefix> + ? 	        Show the list of key bindings
# <prefix> + c 	        Create a new window
# <prefix> + n 	        Go to next window
# <prefix> + p 	        Go to previous window
# <prefix> + 0 	        Go to window 0. Numbers (1-9 are similar)
# <prefix> + w 	        Show window list

# set <prefix> to space
unbind C-b
set -g prefix C-Space
bind C-Space send-prefix

# make delay shorter
set -sg escape-time 0

# reload config file
bind r source-file ~/.config/tmux/tmux.conf \; display "tmux.conf reloaded!"

# split panes with the path of the current pane
bind b split-window -h -c '#{pane_current_path}'
bind v split-window -v -c '#{pane_current_path}'

# pane movement shortcuts (same as vim)
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# fast toggle
bind ^space last-pane # 1. <prefix>, 2. Ctrl + space

# automatically renumber window numbers on closing a pane
# set -g renumber-windows on

# enable mouse support for switching panes/windows
set -g mouse on

# start window and pane numbering at 1
set -g base-index 1
set -g pane-base-index 1

# dynamically update tab and window titles
set -g set-titles on

# fix confusing stuf
set -g focus-events on
set -w -g wrap-search off

# colors
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ',xterm-256color:Tc'

# list of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'jimeh/tmux-themepack'
set -g @themepack 'powerline/block/cyan'

#NOTE:
# plugin install:
# 1. Add new plugin to ~/.tmux.conf with set -g @plugin '...'
# 2. Press <prefix> + I (capital i) to fetch the plugin
# 3. Wait 
# plugin uninstall:
# 1. Delete or comment out the plugin in .tmux.conf
# 2. Press <prefix> + alt + u to remove the plugin
# update plugins:
# 1. Press <prefix> + u

# automatic install of tpm on new machines
if "test ! -d ~/.tmux/plugins/tpm" \
   "run 'mkdir -p ~/.tmux/plugins && git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm && ~/.tmux/plugins/tpm/tpm && ~/.tmux/plugins/tpm/bin/install_plugins'"

# initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf!)
run -b '~/.tmux/plugins/tpm/tpm'

